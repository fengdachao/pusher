### 信息订阅产品 PRD（V1.0）

- 文档版本：v1.0
- 目标发布日期：T0 + 6 周（含灰度与稳定期）
- 覆盖平台：Web、移动端（建议 Flutter 以单仓出双端）
- 目标用户：面向关注热点的泛资讯用户与垂直资讯用户（科技/商业/行业）

## 一、产品愿景与目标
- 愿景：根据用户喜好，每天聚合各大网站热门新闻，智能去重与排序，按用户偏好时间与渠道推送，帮助用户高效获取高质量资讯。
- 核心目标（MVP）：
  - 每日定时推荐与推送（早/晚两档）+ 重要突发加急。
  - 基于主题/关键词/来源的订阅与个性化排序。
  - Web 与移动端统一体验，登录同步。
- 量化目标（V1）：
  - D7 留存 ≥ 25%
  - 日推送送达率 ≥ 95%，打开率 ≥ 12%
  - Feed CTR ≥ 18%，单日人均有效阅读 ≥ 8 篇
  - 重复/低质内容占比 ≤ 3%

## 二、范围定义
- In Scope（MVP）：
  - 资讯聚合（RSS、许可 API、公开榜单），去重、分类、排序
  - 订阅（主题/关键词/来源/地区/语言）、每日摘要推送（Email/App/Web Push）
  - Feed 浏览、搜索、收藏、历史、分享
  - 基础个性化（冷启动问卷 + 行为学习）
  - 管理后台：来源管理、分类/主题配置、推送任务编排
- Out of Scope（V1.0）：
  - UGC 评论与社区
  - 全量视频类长内容处理
  - 复杂广告、商业化

## 三、用户与场景
- 用户画像
  - 快讯型用户：碎片时间获取热点，偏向简洁摘要
  - 深度型用户：关注垂直领域深阅读，偏向收藏/稍后读
  - 职场信息敏感型：关注商业/投融资/政策变动
- 核心场景
  - 上下班通勤：5-10 分钟浏览早/晚间摘要
  - 临时突发：收到加急推送，快速了解要点
  - 深度追踪：订阅特定主题/来源，周末集中阅读

## 四、核心功能需求
1) Onboarding 与冷启动
- 注册/登录（邮箱/手机号/第三方）
- 选择兴趣主题、关键词、来源、地区、语言
- 选择推送频次与时间（如 7:30、19:30），最大推送条数
- 选择渠道：Email、App Push、Web Push
- 同步设置到多设备

2) 订阅管理
- 新建/编辑/删除订阅：主题、关键词（支持布尔表达式 AND/OR/NOT）、来源、语言
- 订阅优先级与上限（如 30 条/天）
- 静音/免打扰时间段

3) 内容聚合与Feed
- 来源：主流媒体与科技商业媒体（仅官方 RSS/许可 API/公开榜单）
- 热度识别：按来源热榜/全网趋势信号
- 去重：标题规范化 + URL 归一化 + 相似度（SimHash/MINHASH）
- 分类：主题标签（多标签），NLP 模型 + 词典规则
- 排序：个性化分 + 热度分 + 时效分 + 多样性约束
- 交互：点赞/不感兴趣/已读/收藏/分享
- 稍后读与离线缓存（移动端）

4) 搜索与过滤
- 站内全文检索（标题/摘要/来源/时间/主题）
- 筛选：时间范围/主题/来源/语言

5) 推送与摘要
- 每日摘要（晨/晚两档，可自定义），内容为 TopN 个性化聚合
- 突发加急：达到阈值触发即时推送（可关闭）
- 邮件模板与 App/Web Push 富文本（标题、摘要、来源、阅读入口）

6) 多端支持
- Web：响应式布局，PWA 支持 Web Push
- 移动：Flutter（iOS/Android），启动快、离线阅读、原生推送
- 多端数据同步（订阅、阅读进度、收藏）

7) 管理后台（MVP）
- 来源管理：新增/启停/抓取频率/健康度
- 分类与主题词典：新增/合并/权重
- 推送任务编排：定时策略、渠道、模板 A/B
- 基础监控：抓取成功率、去重率、推送送达/打开

## 五、非功能与合规
- 性能：Feed 首屏 ≤ 2s（P95）、推送定时偏差 ≤ 2 分钟
- 稳定性：可用性 ≥ 99.9%，任务失败自动重试
- 可扩展：支持 100 万 DAU，抓取峰值 50 万篇/日
- 安全：OAuth2、JWT、加密存储，最小权限；防爬/频控
- 隐私合规：仅使用官方 RSS/许可 API/公开榜单；尊重 Robots；用户数据可导出/删除；GDPR/本地法域合规
- 可观测：日志、指标、分布式追踪；推送全链路埋点

## 六、数据与算法设计（MVP）
- 数据模型（核心实体）
  - User、Device、Subscription、Source、Article、TopicTag、Interaction（click/like/dislike/read_time）、Notification、DigestJob
- 特征与排序
  - 行为特征：点击率、阅读时长、时间段偏好、不感兴趣反馈
  - 内容特征：主题多标签、来源权威度、热度、时效
  - 排序函数：score = w1·Personal + w2·Trend + w3·Recency + DiversityPenalty
  - 冷启动：Onboarding 选择 + 流行度混排 + 探索（ε-greedy 5-10%）
- 去重/聚类
  - 标题清洗 + 规范化 URL + SimHash 聚簇，簇内选代表文
- 指标闭环
  - 推送打开率、Feed CTR、负反馈率、多样性、覆盖率

## 七、信息源策略（示例）
- 官方 RSS/许可 API：新华网、人民网、澎湃新闻、央视新闻、财新、FT 中文、BBC、The Verge、TechCrunch、36Kr、虎嗅、财联社、CNBC 等
- 公开热榜：微博热搜、知乎热榜、GitHub Trending（遵循条款与 Robots）
- 行业/政府公告：部委/交易所公告 RSS
- 定期评估信息源质量（新鲜度、可信度、重复率）

## 八、交互流程（文字版）
- 新用户：注册 → 选择兴趣/来源/时间 → 首次摘要生成 → 推送/Feed
- 日常：服务在预定时间生成个性化摘要 → 推送 → 用户点击进入 Feed → 阅读互动反馈 → 模型更新
- 突发：热度阈值触发 → 去重与快速分类 → 加急推送（尊重免打扰）

## 九、验收标准（MVP）
- 功能：上述功能项全覆盖，主要路径零阻塞
- 质量：核心 crash 率 < 0.3%，推送送达 ≥ 95%
- 体验：TTV（注册到收到首份摘要）≤ 10 分钟
- 算法：重复率 ≤ 3%，摘要 TopN 覆盖用户订阅主题 ≥ 80%
- 合规：信息源采集与使用符合条款；用户隐私控制上线

## 十、指标体系（核心）
- 增长：注册转化、Onboarding 完成率、渠道转化
- 参与：DAU/WAU、Feed CTR、阅读时长、人均阅读数、收藏率
- 留存：D1/D7/D30
- 推送：送达率、打开率、退订率、静音占比
- 内容：去重率、多样性、覆盖率、低质占比
- 稳定：抓取成功率、任务失败率、延迟

## 十一、技术架构概览（MVP）
- 采集层：RSS 拉取器、API 适配器、热榜抓取器（尊重配额与 Robots）
- 流式处理：队列（Kafka/云队列）→ 清洗 → 去重/分类 → 索引
- 存储：文档库（MongoDB/Cloud Firestore）、搜索（Elasticsearch/OpenSearch）、KV（Redis）、对象存储（封面）
- 服务：内容查询 API、推荐排序服务、推送调度器、Admin 后台
- 客户端：Web（React/Vue + PWA）、移动（Flutter），统一设计系统
- 通知：Email（如 SES）、APNs/FCM/厂商通道、Web Push
- 可观测：Prometheus/Grafana、OpenTelemetry

## 十二、实施计划（细化到 1 人天）
- 资源假设
  - 后端 1、人天记作 PD；算法 1；Web 前端 1；移动（Flutter）1；QA 0.5；DevOps 0.5；产品/设计 0.5
  - 目标 6 周交付（含 1 周灰度），并行执行

### 任务分解（PD 估算为纯开发/设计/测试净工时，不含多人并发折算）
- 产品/设计
  - 需求细化与范围冻结（PRD/流程/原型）— 3 PD
  - 设计系统与关键界面（Onboarding/Feed/订阅/推送设置/登录）— 6 PD
  - 邮件与推送模板 A/B 两版 — 2 PD
  - 空状态/错误态/空订阅引导 — 1 PD
  - 可用性走查与设计验收 — 1 PD

- 后端
  - 项目脚手架/基础设施（鉴权、配置、日志、健康检查）— 2 PD
  - 数据模型与存储（User/Article/Subscription/Interaction）— 2 PD
  - 来源适配器框架（RSS+API 插件化）— 3 PD
  - 热榜采集器（2 个示例源）— 2 PD
  - 清洗与去重服务（SimHash、簇代表）— 3 PD
  - 分类服务接口（调用算法、回退规则）— 2 PD
  - 内容查询 API（列表/详情/搜索/过滤）— 4 PD
  - 订阅管理 API（CRUD、校验、限额）— 3 PD
  - 推送调度器（定时、模板、渠道编排、重试）— 4 PD
  - 统计埋点与指标上报（推送、点击、阅读）— 2 PD
  - 管理后台后端（来源/主题/推送任务）— 3 PD
  - 权限与频控/防滥用（基础）— 2 PD
  - 集成测试与文档 — 2 PD
  - 总计后端：34 PD

- 算法/数据
  - 主题词典与标签体系（初版）— 2 PD
  - 标题与内容清洗/归一化策略 — 1 PD
  - 去重参数调优（阈值、簇大小）— 2 PD
  - 分类模型选型与服务化（轻量，多标签）— 4 PD
  - 初版排序函数与多样性约束 — 3 PD
  - 冷启动与探索流量策略（ε-greedy）— 2 PD
  - 评估面板（重复率/覆盖率/CTR）— 2 PD
  - 总计算法：16 PD

- Web 前端
  - 项目搭建/设计系统接入（PWA、路由、状态）— 3 PD
  - 登录/注册/Onboarding 流程 — 3 PD
  - Feed 列表/详情/交互（赞/不感兴趣/收藏）— 5 PD
  - 搜索与过滤（主题/来源/时间）— 3 PD
  - 订阅管理（CRUD、静音、排序）— 4 PD
  - 推送设置与 Web Push 订阅 — 3 PD
  - 个人中心与历史/收藏 — 3 PD
  - 错误态/空态/加载骨架 — 1 PD
  - 基础无障碍与性能优化 — 1 PD
  - 总计 Web：26 PD

- 移动（Flutter）
  - 项目搭建/设计系统实现（亮/暗色）— 3 PD
  - 登录/注册/Onboarding — 3 PD
  - Feed/详情/交互 + 离线缓存 — 6 PD
  - 搜索与过滤 — 3 PD
  - 订阅管理 — 4 PD
  - 推送设置 + APNs/FCM/厂商通道接入 — 4 PD
  - 个人中心/历史/收藏 — 3 PD
  - 启动与性能优化（首屏、占位）— 2 PD
  - 总计移动：28 PD

- 管理后台（前端）
  - 框架与鉴权 — 2 PD
  - 来源管理（增删改、健康度）— 3 PD
  - 主题/词典管理 — 2 PD
  - 推送任务编排与预览 — 3 PD
  - 指标看板（送达/打开/抓取健康）— 3 PD
  - 总计后台前端：13 PD

- DevOps/测试/发布
  - CI/CD、环境、密钥管理 — 3 PD
  - 监控告警与日志流水线 — 2 PD
  - 灰度/特性开关与回滚策略 — 2 PD
  - QA 用例设计（功能/接口/性能）— 3 PD
  - Web/移动/后端联调测试 — 6 PD
  - 性能与稳定性测试（抓取与推送链路）— 3 PD
  - 上线预案与演练 — 2 PD
  - 总计 DevOps/QA：21 PD

- 总体 PD（不去重并发）：后端 34 + 算法 16 + Web 26 + 移动 28 + 后台前端 13 + DevOps/QA 21 + 产品/设计 13 = 151 PD
  - 并行资源投入（示例）：BE×1、ML×1、Web×1、Flutter×1、QA×0.5、DevOps×0.5、PD×0.5
  - 并发估算落地周期：约 6 周（含 1 周灰度），满足 MVP 交付

### 里程碑与时间轴（并发执行）
- W1：需求冻结/原型、项目搭建、数据模型、采集框架、设计系统起步
- W2：订阅与内容 API、分类与去重初版、Web/移动 Onboarding、推送调度雏形
- W3：Feed/搜索、排序与多样性、Web Push/移动推送接入、Admin 基础
- W4：A/B 模板、统计埋点、性能优化、离线缓存、指标面板
- W5：联调与全面测试、灰度发布（10-20%）、调参与修复
- W6：全量发布、稳定性观察、指标复盘与 V1.1 需求池

## 十三、依赖与风险
- 依赖：邮件与推送服务可用性，信息源许可或配额；移动端商店审核周期
- 风险与对策
  - 合规风险：仅用官方 RSS/许可 API/公开榜单；保留来源声明与跳转
  - 质量风险：重复与低质提升 → 加强去重阈值与白/黑名单、质量评分
  - 推送噪音：控制频次、免打扰、负反馈强介入
  - 冷启动点击低：Onboarding 精细化与模板优化（导语/摘要质量）

## 十四、未来规划（V1.1+）
- 个性化升级（序列模型/因子分解、多臂老虎机调参）
- 摘要生成（可控长短）与实体卡片（公司/人物/事件时间线）
- 高级过滤器（正负关键词、作者/栏目、地域权重）
- 多渠道扩展（Telegram/企业微信/Slack 机器人）
- 订阅清单分享/协作

——

本文档为 V1.0 PRD 定稿版本，可用于项目立项与开发验收依据。

